"use strict";(self["webpackChunkvue_first_app"]=self["webpackChunkvue_first_app"]||[]).push([[739],{739:function(e,s,t){t.r(s),t.d(s,{default:function(){return q}});var r=t(641),a=t(33);const u=e=>((0,r.Qi)("data-v-1a1119a2"),e=e(),(0,r.jt)(),e),n=u((()=>(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,"Requests Received")],-1))),i={key:1},l={key:2};function o(e,s,t,u,o,d){const c=(0,r.g2)("base-dialog"),h=(0,r.g2)("base-spinner"),m=(0,r.g2)("request-item"),v=(0,r.g2)("base-card");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c,{show:!!o.error,title:"An error occurred!",onClose:d.handleError},{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,(0,a.v_)(o.error),1)])),_:1},8,["show","onClose"]),(0,r.Lk)("section",null,[(0,r.bF)(v,null,{default:(0,r.k6)((()=>[n,o.isLoading?((0,r.uX)(),(0,r.Wv)(h,{key:0})):d.hasRequests&&!o.isLoading?((0,r.uX)(),(0,r.CE)("ul",i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.receivedRequests,(e=>((0,r.uX)(),(0,r.Wv)(m,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])))),128))])):((0,r.uX)(),(0,r.CE)("h3",l,"You haven't received any requests yet!"))])),_:1})])])}const d=["href"];function c(e,s,t,u,n,i){return(0,r.uX)(),(0,r.CE)("li",null,[(0,r.Lk)("div",null,[(0,r.Lk)("a",{href:i.emailLink},(0,a.v_)(t.email),9,d)]),(0,r.Lk)("p",null,(0,a.v_)(t.message),1)])}var h={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}},m=t(262);const v=(0,m.A)(h,[["render",c],["__scopeId","data-v-60554d41"]]);var g=v,k={components:{RequestItem:g},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequests()},methods:{async loadRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something failed!"}this.isLoading=!1},handleError(){this.error=null}}};const p=(0,m.A)(k,[["render",o],["__scopeId","data-v-1a1119a2"]]);var q=p}}]);
//# sourceMappingURL=739.42b83020.js.map