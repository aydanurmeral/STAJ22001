"use strict";(self["webpackChunkvue_first_app"]=self["webpackChunkvue_first_app"]||[]).push([[8],{8:function(t,i,o){o.r(i),o.d(i,{default:function(){return b}});var e=o(641),s=o(33),a=o(751);const r=t=>((0,e.Qi)("data-v-0c0593d0"),t=t(),(0,e.jt)(),t),n={class:"form-control"},l=r((()=>(0,e.Lk)("label",{for:"email"},"E-Mail",-1))),d={class:"form-control"},u=r((()=>(0,e.Lk)("label",{for:"password"},"Password",-1))),h={key:0};function m(t,i,o,r,m,c){const p=(0,e.g2)("base-dialog"),g=(0,e.g2)("base-spinner"),b=(0,e.g2)("base-button"),f=(0,e.g2)("base-card");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.bF)(p,{show:!!m.error,title:"An error occurred",onClose:c.handleError},{default:(0,e.k6)((()=>[(0,e.Lk)("p",null,(0,s.v_)(m.error),1)])),_:1},8,["show","onClose"]),(0,e.bF)(p,{show:m.isLoading,title:"Authenticating...",fixed:""},{default:(0,e.k6)((()=>[(0,e.bF)(g)])),_:1},8,["show"]),(0,e.bF)(f,null,{default:(0,e.k6)((()=>[(0,e.Lk)("form",{onSubmit:i[2]||(i[2]=(0,a.D$)(((...t)=>c.submitForm&&c.submitForm(...t)),["prevent"]))},[(0,e.Lk)("div",n,[l,(0,e.bo)((0,e.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=t=>m.email=t)},null,512),[[a.Jo,m.email,void 0,{trim:!0}]])]),(0,e.Lk)("div",d,[u,(0,e.bo)((0,e.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=t=>m.password=t)},null,512),[[a.Jo,m.password,void 0,{trim:!0}]])]),m.formIsValid?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("p",h,"Please enter a valid email and password (must be at least 6 characters long).")),(0,e.bF)(b,null,{default:(0,e.k6)((()=>[(0,e.eW)((0,s.v_)(c.submitButtonCaption),1)])),_:1}),(0,e.bF)(b,{type:"button",mode:"flat",onClick:c.switchAuthMode},{default:(0,e.k6)((()=>[(0,e.eW)((0,s.v_)(c.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var c={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);this.$route.query.redirect;this.$router.replace("/coaches")}catch(i){this.error=i.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},p=o(262);const g=(0,p.A)(c,[["render",m],["__scopeId","data-v-0c0593d0"]]);var b=g}}]);
//# sourceMappingURL=8.9e9ec73a.js.map