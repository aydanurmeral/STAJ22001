{"version":3,"file":"js/8.9e9ec73a.js","mappings":"8PAUaA,MAAM,gB,UACT,QAAiC,SAA1BC,IAAI,SAAQ,UAAM,K,GAGtBD,MAAM,gB,UACT,QAAsC,SAA/BC,IAAI,YAAW,YAAQ,K,GAfxC,O,uJACE,QAwBM,aAvBJ,QAEc,GAFAC,OAAQ,EAAAC,MAAOC,MAAM,oBAAqB,QAAO,EAAAC,a,CAFnE,kBAGM,IAAkB,EAAlB,QAAkB,kBAAZ,EAAAF,OAAK,MAHjB,K,uBAKI,QAEc,GAFAD,KAAM,EAAAI,UAAWF,MAAM,oBAAoBG,MAAA,I,CAL7D,kBAMM,IAA6B,EAA7B,QAA6B,MANnC,K,aAQI,QAgBY,QAxBhB,kBASM,IAcO,EAdP,QAcO,QAdA,SAAM,aATnB,iBAS6B,EAAAC,YAAA,EAAAA,cAAA,IAAU,e,EAC/B,QAGM,MAHN,EAGM,CAFJ,G,SACA,QAAsD,SAA/CC,KAAK,QAAQC,GAAG,QAZjC,qCAYuD,EAAK,U,iBAAL,EAAAC,W,GAZvD,MAYyC,SAEjC,QAGM,MAHN,EAGM,CAFJ,G,SACA,QAA+D,SAAxDF,KAAK,WAAWC,GAAG,WAhBpC,qCAgB6D,EAAQ,a,iBAAR,EAAAE,c,GAhB7D,MAgB+C,QAG9B,EAAAC,aAnBjB,iB,WAkBQ,QAEkF,IApB1F,EAoBS,mFACD,QAAoD,QArB5D,kBAqBqB,IAAyB,EArB9C,iBAqBwB,EAAAC,qBAAmB,MArB3C,OAsBQ,QAA0G,GAA7FL,KAAK,SAASM,KAAK,OAAQ,QAAO,EAAAC,gB,CAtBvD,kBAsBuE,IAA6B,EAtBpG,iBAsB0E,EAAAC,yBAAuB,MAtBjG,K,uBAAA,O,CA6BA,OACE,IAAAC,GACE,MAAO,CACLP,MAAO,GACPC,SAAU,GACVC,aAAa,EACbE,KAAM,QACNT,WAAW,EACXH,MAAO,KAEX,EACAgB,SAAU,CACR,mBAAAL,GACE,MAAkB,UAAdM,KAAKL,KACA,QAEA,QAEX,EACA,uBAAAE,GACE,MAAkB,UAAdG,KAAKL,KACA,iBAEA,eAEX,GAEFM,QAAS,CACP,gBAAMb,GAEJ,GADAY,KAAKP,aAAc,EAEF,KAAfO,KAAKT,QACJS,KAAKT,MAAMW,SAAS,MACrBF,KAAKR,SAASW,OAAS,EAGvB,YADAH,KAAKP,aAAc,GAIrBO,KAAKd,WAAY,EAEjB,MAAMkB,EAAgB,CACpBb,MAAOS,KAAKT,MACZC,SAAUQ,KAAKR,UAGjB,IACoB,UAAdQ,KAAKL,WACDK,KAAKK,OAAOC,SAAS,QAASF,SAE9BJ,KAAKK,OAAOC,SAAS,SAAUF,GAEZJ,KAAKO,OAAOC,MAAMC,SAC7CT,KAAKU,QAAQC,QAAQ,WACvB,CAAE,MAAOC,GACPZ,KAAKjB,MAAQ6B,EAAIC,SAAW,oCAC9B,CAEAb,KAAKd,WAAY,CACnB,EACA,cAAAU,GACoB,UAAdI,KAAKL,KACPK,KAAKL,KAAO,SAEZK,KAAKL,KAAO,OAEhB,EACA,WAAAV,GACEe,KAAKjB,MAAQ,IACf,I,SC3FJ,MAAM+B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vue-first-app/./src/pages/auth/UserAuth.vue","webpack://vue-first-app/./src/pages/auth/UserAuth.vue?a517"],"sourcesContent":["<template>\n  <div>\n    <base-dialog :show=\"!!error\" title=\"An error occurred\" @close=\"handleError\">\n      <p>{{ error }}</p>\n    </base-dialog>\n    <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\n      <base-spinner></base-spinner>\n    </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">E-Mail</label>\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n        </div>\n        <p\n          v-if=\"!formIsValid\"\n        >Please enter a valid email and password (must be at least 6 characters long).</p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{ switchModeButtonCaption }}</base-button>\n      </form>\n    </base-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      formIsValid: true,\n      mode: 'login',\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Login';\n      } else {\n        return 'Signup';\n      }\n    },\n    switchModeButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Signup instead';\n      } else {\n        return 'Login instead';\n      }\n    },\n  },\n  methods: {\n    async submitForm() {\n      this.formIsValid = true;\n      if (\n        this.email === '' ||\n        !this.email.includes('@') ||\n        this.password.length < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      this.isLoading = true;\n\n      const actionPayload = {\n        email: this.email,\n        password: this.password,\n      };\n\n      try {\n        if (this.mode === 'login') {\n          await this.$store.dispatch('login', actionPayload);\n        } else {\n          await this.$store.dispatch('signup', actionPayload);\n        }\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n        this.$router.replace('/coaches');\n      } catch (err) {\n        this.error = err.message || 'Failed to authenticate, try later.';\n      }\n\n      this.isLoading = false;\n    },\n    switchAuthMode() {\n      if (this.mode === 'login') {\n        this.mode = 'signup';\n      } else {\n        this.mode = 'login';\n      }\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>","import { render } from \"./UserAuth.vue?vue&type=template&id=0c0593d0&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=0c0593d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c0593d0\"]])\n\nexport default __exports__"],"names":["class","for","show","error","title","handleError","isLoading","fixed","submitForm","type","id","email","password","formIsValid","submitButtonCaption","mode","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","includes","length","actionPayload","$store","dispatch","$route","query","redirect","$router","replace","err","message","__exports__","render"],"sourceRoot":""}